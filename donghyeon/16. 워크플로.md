# 분산 환경에서의 Git

## 워크플로
Git은 분산형 버전 관리 시스템이다. 그래서 각 개발자의 저장소가 하나의 노드이기도 하고 중앙 저장소같은 역할도 할 수 있다. 이런 특징은 협업시 다양한 워크플로를 만들 수 있도록 해준다. 

### 중앙집중식 워크플로

![[16-01.png]]

하나의 중앙 저장소를 중심으로 작업한다. 모든 변경 사항은 중앙 저장소에 집중된다.  
본인의 커밋을 Push 하기 전에 다른 개발자의 커밋을 먼저 Merge 해야 다른 개발자들의 작업 내용을 덮어쓰지 않는다.  

소규모 팀이나 이미 중앙 집중식에 익숙한 상황이라면 무리없이 도입 가능한 워크플로이다. (대규모 팀에게도 충분히 좋다.)

### Integration-Manager 워크플로

![[16-02.png]]

하나의 공식 저장소를 Clone(또는 Fork)하여 작업자의 저장소에 Push 후 통합하는 워크플로이다.  
작업 과정은 아래와 같다. 
1. 프로젝트 Integration-Manager는 프로젝트 메인 저장소에 Push를 한다.
2. 작업자는 메인 저장소를 Clone 하고 수정한다.
3. 작업자는 자신의 저장소에 Push 하고 Integration-Manager가 접근할 수 있도록 공개해 놓는다.
4. 작업자는 Integration-Manager에게 변경사항을 적용해 줄 것을 이메일로 요청한다.
5. Integration-Manager는 작업자의 저장소를 리모트 저장소로 등록하고 수정사항을 Merge 하여 테스트한다.
6. Integration-Manager는 Merge 한 사항을 메인 저장소에 Push 한다.

작업자와 Integration-Manager가 각자의 사정에 맞춰 프로젝트를 유지할 수 있다. 따라서 작업자는 수정 사항이 프로젝트에 반영되도록 기다릴 필요가 없고 관리자는 작업자의 수정 사항을 적절한 시점에 Merge할 수 있다.


### Dictator and Lieutenants 워크플로

![[16-03.png]]

Linux 커널 프로젝트와 같이 아주 큰 프로젝트를 운영할 때 사용하는 방식으로 여러개의 저장소를 운영하는 방식을 변형한 구조이다.  

최종 관리자(Benevolent Dictator)와 프로젝트의 각 부분을 담당하는 여러 명의 Integration-Manager(Lieutenant)로 구성된다. 
최종 관리자(Benevolent Dictator)는 담당자(Lieutenant)의 저장소를 가져와 공식 저장소에 Push하고 모든 프로젝트 참여자는 이 공식 저장소에서 반드시 Pull 해야 한다.  
작업 과정은 아래와 같다. 
1. 개발자는 코드를 수정하고 공식 저장소의 master 브랜치를 기준으로 자신의 토픽 브랜치를 Rebase 한다.
2. Lieutenant들은 개발자들의 수정사항을 자신이 관리하는 master 브랜치에 Merge 한다.
3. Dictator는 Lieutenant의 master 브랜치를 자신의 master 브랜치로 Merge 한다.
4. Dictator는 자신의 master 브랜치를 Push 하며 다른 모든 개발자는 Dictator의 master 브랜치를 기준으로 Rebase 한다.

일반적으로 사용되지는 않고 깊은 계층 구조를 가지는 환경이나 규모가 매우 큰 프로젝트에서 사용하기 좋은 워크플로이다. 



# 커밋 컨벤션
```text
영문 50글자 이하의 간략한 수정 요약. 명령문으로 작성

자세한 설명. 영문 72글자 이상이 되면 줄바꿈
요약과 본문 사이에 빈 라인은 이 둘을 구별하므로 중요하다
본문이 생략되는 경우 빈 라인도 생략

이어지는 내용도 한 라인 띄우고 작성한다.

- '-'나 '*'를 사용하여 목록을 표시할 수 있다.

- 목록 사이의 빈 라인은 팀의 상황에 따라 다르다.
```